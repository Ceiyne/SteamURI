<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Game Launcher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .message {
            font-size: 24px;
            color: #333;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="message" class="message"></div>
    <script>
        // Function to get URL parameter
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Get the 'game' parameter from URL
        const gameParam = getUrlParameter('game').toLowerCase();
        const messageElement = document.getElementById('message');
        
        // Switch statement to handle different games
        switch(gameParam) {
            case 'bl4':
                // Borderlands 4 - Steam ID 1285190
                messageElement.textContent = 'Launching Borderlands 4...';
                window.location.href = 'steam://rungameid/1285190';
                break;
            case 'dayz':
                // DayZ - Steam ID 221100
                messageElement.textContent = 'Launching DayZ...';
                window.location.href = 'steam://rungameid/221100';
                break;
            case 'dbd':
                // Dead by Daylight - Steam ID 381210
                messageElement.textContent = 'Launching Dead by Daylight...';
                window.location.href = 'steam://rungameid/381210';
                break;
            case 'df':
                // Delta Force - Steam ID 2507950
                messageElement.textContent = 'Launching Delta Force...';
                window.location.href = 'steam://rungameid/2507950';
                break;
            case 'mr':
                // Marvel Rivals - Steam ID 2767030
                messageElement.textContent = 'Launching Marvel Rivals...';
                window.location.href = 'steam://rungameid/2767030';
                break;
            case 'ror2':
                // Risk of Rain 2 - Steam ID 632360
                messageElement.textContent = 'Launching Risk of Rain 2...';
                window.location.href = 'steam://rungameid/632360';
                break;
            default:
                messageElement.textContent = 'No valid game parameter found or game not recognized';
                console.log('No valid game parameter found or game not recognized');
                break;
        }

        // Wait 5 seconds then close the tab
        // This shouldn't actually do anything because javascript may only close windows that the script opened - though somehow it seems to work anyway?
        setTimeout(function() {
            window.close();
        }, 5000);
    </script>
</body>
</html>
